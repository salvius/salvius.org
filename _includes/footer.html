<footer>
    {% comment %}
        NOTE: This include is currently overriding the template version.
    {% endcomment %}
    <div class="container-fluid color-rust">
        <div class="row footer-row">
            <div class="col-xs-4 footer-container">
                <div class="footer-text">
                    <i>Copyright &copy; {{ 'now' | date: "%Y" }} Gunther Cox</i>
                </div>
            </div>
            <div class="col-xs-4 footer-container text-center">
                <div class="footer-text">
                    {% for link in site.data.footer.links %}
                        <a href="{{ link.url }}" class="text-white">
                            {{ link.text }}
                        </a>
                    {% endfor %}
                </div>
            </div>
            <div class="col-xs-4 text-right">
                {% for account in site.data.social %}
                    <a href="{{ account.url }}" aria-label="{{ account.name }}" target='_blank' class="btn btn-lg btn-link text-white">
                        <i class="{{ account.icon_class }}" aria-hidden="true" style="font-size: 24px;"></i>
                    </a>
                {% endfor %}
            </div>
        </div>
    </div>
</footer>

<script src="/assets/js/jquery.js"></script>
<script src="/assets/js/bootstrap.js"></script>
{% for js_name in page.extra_js %}
    <script src="{{ js_name }}"></script>
{% endfor %}

<!-- https://silktide.com/consent-manager/install/ -->
<link rel="stylesheet" id="silktide-consent-manager-css" href="/css/silktide-consent-manager.css">
<script src="/js/silktide-consent-manager.js"></script>
<script>
    silktideCookieBannerManager.updateCookieBannerConfig({
    background: {
        showBackground: true
    },
    cookieIcon: {
        position: "bottomRight"
    },
    cookieTypes: [
        {
        id: "analytics",
        name: "Analytics",
        description: "<p>These cookies help us improve the site by tracking which pages are most popular and how visitors move around the site.</p>",
        defaultValue: true,
        onAccept: function() {
            if (typeof gtag !== 'undefined') {
              gtag('consent', 'update', {
              analytics_storage: 'granted',
              });
            }
            if (typeof dataLayer !== 'undefined') {
              dataLayer.push({
              'event': 'consent_accepted_analytics',
              });
            }
        },
        onReject: function() {
            if (typeof gtag !== 'undefined') {
              gtag('consent', 'update', {
              analytics_storage: 'denied',
              });
            }
        }
        },
        {
        id: "advertising",
        name: "Advertising",
        description: "<p>These cookies provide extra features and personalization to improve your experience. They may be set by us or by partners whose services we use.</p>",
        defaultValue: true,
        onAccept: function() {
            if (typeof gtag !== 'undefined') {
              gtag('consent', 'update', {
              ad_storage: 'granted',
              ad_user_data: 'granted',
              ad_personalization: 'granted',
              });
            }
            if (typeof dataLayer !== 'undefined') {
              dataLayer.push({
              'event': 'consent_accepted_advertising',
              });
            }
        },
        onReject: function() {
            if (typeof gtag !== 'undefined') {
              gtag('consent', 'update', {
              ad_storage: 'denied',
              ad_user_data: 'denied',
              ad_personalization: 'denied',
              });
            }
        }
        }
    ],
    text: {
        banner: {
        description: "<p>We use cookies on our site to enhance your user experience, provide personalized content, and analyze our traffic. <a href=\"/privacy/\" target=\"_blank\">Cookie Policy.</a></p>",
        acceptAllButtonText: "Accept all",
        acceptAllButtonAccessibleLabel: "Accept all cookies",
        rejectNonEssentialButtonText: "Reject non-essential",
        rejectNonEssentialButtonAccessibleLabel: "Reject non-essential",
        preferencesButtonText: "Preferences",
        preferencesButtonAccessibleLabel: "Toggle preferences"
        },
        preferences: {
        title: "Customize your cookie preferences",
        description: "<p>We respect your right to privacy. You can choose not to allow some types of cookies. Your cookie preferences will apply across our website.</p>",
        creditLinkText: "Get this banner for free",
        creditLinkAccessibleLabel: "Get this banner for free"
        }
    }
    });
</script>
{% if jekyll.environment == "production" %}
<script>
  {% comment %}
    https://silktide.com/consent-manager/docs/google-consent-mode/
  {% endcomment %}
  // Initialize the dataLayer
  window.dataLayer = window.dataLayer || [];

  // Create the gtag function that pushes to the dataLayer
  function gtag() {
    dataLayer.push(arguments);
  }

  // Set consent defaults
  gtag('consent', 'default', {
    analytics_storage: localStorage.getItem('silktideCookieChoice_analytics') === 'true' ? 'granted' : 'denied',
    ad_storage: localStorage.getItem('silktideCookieChoice_advertising') === 'true' ? 'granted' : 'denied',
    ad_user_data: localStorage.getItem('silktideCookieChoice_advertising') === 'true' ? 'granted' : 'denied',
    ad_personalization: localStorage.getItem('silktideCookieChoice_advertising') === 'true' ? 'granted' : 'denied',
  });
</script>
<script async src="https://www.googletagmanager.com/gtag/js?id={{ site.google_analytics }}"></script>
<script>
  gtag('js', new Date());
  gtag('config', '{{ site.google_analytics }}');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
{% endif %}
